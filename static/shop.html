<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Alp Wolf Shop</title>
  <link rel="shortcut icon" href="/static/img/d7f87fafb82fdb7eb3dea7d3fbed5cec/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/static/img/d7f87fafb82fdb7eb3dea7d3fbed5cec/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/static/css/style.css">
  <script src="https://kit.fontawesome.com/7e2c6b8e7e.js" crossorigin="anonymous"></script>
</head>
<body class="shop-bg">
  <!-- Place this at the very top of your <body> -->
  <div id="shop-settings-bar" class="shop-settings-bar">
      <label for="shop-language-select" class="shop-settings-label">
          <span class="shop-settings-flag" id="shop-language-flag">ðŸ‡©ðŸ‡ª</span>
          Language:
      </label>
      <select id="shop-language-select" class="shop-settings-select shop-settings-language">
          <option value="de" data-flag="ðŸ‡©ðŸ‡ª" class="language-de">Deutsch</option>
          <option value="fr" data-flag="ðŸ‡«ðŸ‡·" class="language-fr">FranÃ§ais</option>
          <option value="en" data-flag="ðŸ‡¬ðŸ‡§" class="language-en">English</option>
          <option value="bs" data-flag="ðŸ‡§ðŸ‡¦" class="language-bs">Bosanski</option>
      </select>

      <label for="shop-country-select" class="shop-settings-label">
          <i class="fas fa-shipping-fast"></i> Delivery Country:
      </label>
      <select id="shop-country-select" class="shop-settings-select">
          <option value="DE">Germany</option>
          <option value="AT">Austria</option>
          <option value="CH">Switzerland</option>
          <option value="BA">Bosnia</option>
      </select>

      <label for="shop-currency-select" class="shop-settings-label">
          <i class="fas fa-coins"></i> Currency:
      </label>
      <select id="shop-currency-select" class="shop-settings-select">
          <option value="EUR">EUR (â‚¬)</option>
          <option value="USD">USD ($)</option>
          <option value="CHF">CHF (Fr)</option>
          <option value="BAM">BAM (KM)</option>
          <option value="GBP">GBP (Â£)</option>
      </select>
  </div>

  <div class="shop-main-card">
    
    <div id="buy-result" style="display:none;">
      <span id="buy-result-message"></span>
      <button id="buy-result-close" style="margin-left:12px;">&times;</button>
    </div>
    <div id="partner-error" style="display:none;">
      <span id="partner-error-message"></span>
      <button id="partner-error-close" style="margin-left:12px;">&times;</button>
    </div>
    <!-- Header -->
    <div class="shop-header">
      <span class="shop-icon"><i class="fas fa-store"></i></span>
      <img id="shop-company-logo" src="/static/img/company-logo.png" alt="Company Logo" class="shop-company-logo">
      <span class="shop-title-main">
        <span class="shop-title-entity">AlpWolf GmbH</span>
        <span class="shop-title-shop">Shop</span>
      </span>
      <br/>
<a href="/" class="shop-back-link">
    <i class="fas fa-arrow-left"></i> Enter Warehouse
    <i class="fas fa-sign-out-alt" style="margin-left:6px;font-size:1.1em;vertical-align:middle;"></i>
    <i class="fas fa-arrow-right" style="margin-left:4px;font-size:1.1em;vertical-align:middle;color:#1565c0;"></i>
</a>
    </div>

    <!-- Item List -->
    <div id="item-list" class="shop-item-grid">
      <!-- Item cards will be rendered here by JS -->
    </div>

    <div class="cart-divider">
      <span class="cart-title"><i class="fas fa-shopping-cart"></i> Your Shopping Cart</span>
    </div>
    <div id="cart-list" class="cart-fancy"></div>

    <!-- Step 1: Cart Actions -->
    <div class="action-row" id="cart-action-row">
      <button id="proceed-checkout-btn" class="shop-buy-btn">
        <i class="fas fa-arrow-right"></i> Proceed to Check-Out
      </button>
      <button id="cancel-checkout-btn" class="shop-cancel-btn" disabled>
        <i class="fas fa-times-circle"></i> Cancel
      </button>
    </div>
        <!-- Step 2: Address Actions -->
      <div id="address-section" style="display:none;">
        <!-- Cart Options (Address, Delivery, etc.) -->
        <div id="cart-options" style="display:none;">
          <div class="option-group" id="delivery-options">
            <label class="option-radio" id="shipping-delivery-option">
              <input type="radio" name="delivery" value="ship" checked>
              <span class="custom-radio"></span>
              Ship to address
            </label>
            <label class="option-radio" id="pickup-delivery-option">
              <input type="radio" name="delivery" value="pickup">
              <span class="custom-radio"></span>
              Pick up at warehouse
            </label>
            <label class="option-radio" id="digital-delivery-option" style="display:none;">
              <input type="radio" name="delivery" value="digital">
              <span class="custom-radio"></span>
              Transmit electronically
            </label>
          </div>

          <!-- Address Block -->
          <div id="address-block">
            <!-- Pickup Address Section -->
            <div id="pickup-address" class="pickup-address">
              <i class="fas fa-map-marker-alt"></i>
              <div class="pickup-address-details">
                <div id="warehouse-info">
                  <b>${data.name || 'Main Warehouse'}</b><br>
                  ${data.street}<br>
                  ${data.zip} ${data.city}<br>
                  ${data.country}<br>

                  <!-- <div id="warehouse-opening-hours"></div>
                  <div id="service-bookings-list"></div> -->

                <div class="pickup-map-embed" style="position:relative;">
                    <iframe
                        id="pickup-map-iframe"
                        width="100%"
                        height="220"
                        style="border-radius:8px;border:0;display:block;"
                        loading="lazy"
                        allowfullscreen
                        referrerpolicy="no-referrer-when-downgrade"
                        src="https://www.google.com/maps?q=${encodeURIComponent(data.street + ' ' + data.zip + ' ' + data.city + ' ' + data.country)}&output=embed"
                        onerror="showPickupMapLink()"
                    ></iframe>
                    <a id="pickup-map-link" href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(data.street + ' ' + data.zip + ' ' + data.city + ' ' + data.country)}"
                      target="_blank"
                      class="pickup-map-link"
                      style="display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#e3f2fd;padding:12px 18px;border-radius:8px;color:#1565c0;font-weight:500;text-decoration:none;">
                        <i class="fas fa-map"></i> Show on Google Maps
                    </a>
                </div>
                </div>
                <div class="address-fields-group">
                  <div class="address-section billing-section" id="billing-fields-pickup" style="display:none;">
                    <!-- <h4>Billing Address</h4> -->
                    <div id="billing-fields-container-pickup"></div>
                    <div id="settings-container-pickup"></div>
                  </div>
                  <div class="address-section company-section" id="company-fields-pickup" style="display:none;">
                    <!-- <h4>Company Details</h4> -->
                    <div id="company-fields-container-pickup"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Add this after the pickup-address block -->
            <!-- <div id="pickup-booking-block" class="pickup-booking-block"></div>
            <div id="pickup-booking-controls" class="pickup-booking-controls"></div> -->

            <!-- Shipping Address Section -->
            <div id="shipping-address-block" class="pickup-address" style="display:flex;">
              <i class="fas fa-address-card"></i>
              <div class="pickup-address-details">
                <div class="address-fields-group">
                  <div class="address-section shipping-section">
                    <!-- <h4>Shipping Address</h4> -->
                    <div id="shipping-fields-container">
                      
                      <div id="shipping-fields" style="display:none;">
                        <h4>Shipping Address</h4>
                        <!-- All shipping fields with unique IDs -->
                        <div class="input-row">
                          <input id="partner-name" placeholder="Full Name" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-email" placeholder="Email" required>
                          <span class="required-marker">*</span>
                        </div>
                        <!-- shop.html, inside shipping and billing address blocks -->
                        <div class="input-row">
                            <select id="partner-phone-country" required style="width:90px;">
                                <option value="">Code</option>
                                <option value="+43">+43 AT</option>
                                <option value="+49">+49 DE</option>
                                <option value="+33">+33 FR</option>
                                <!-- Add more codes as needed -->
                            </select>
                            <input id="partner-phone" placeholder="Phone number" required style="width:calc(100% - 100px);">
                            <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-street" placeholder="Street" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-city" placeholder="City" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-zip" placeholder="ZIP" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <select id="partner-country" required>
                            <option>select country</option>
                            <option value="AT">Austria</option>
                            <option value="DE">Germany</option>
                            <option value="CH">Switzerland</option>
                            <option value="FR">France</option>
                            <option value="BA">Bosnia</option>
                            <option value="GH">Ghana</option>
                          </select>
                          <!-- <input id="partner-country" placeholder="Country" required> -->
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <textarea id="partner_notes" placeholder="Notes"></textarea>
                        </div>
                      </div>

                    </div>
                    <div id="settings-container-ship">
                      <label class="option-checkbox" id="billing-different-fields-container">
                        <input type="checkbox" id="billing-different">
                        <span class="custom-checkbox"></span>
                        Different Billing Address
                      </label>
                      <label class="option-checkbox" id="is-company-fields-container">
                        <input type="checkbox" id="is-company">
                        <span class="custom-checkbox"></span>
                        This is a company order (B2B)
                      </label>
                    </div>
                  </div>
                  <div class="address-section billing-section" id="billing-fields-ship" style="display:none;">
                    <!-- <h4>Billing Address</h4> -->
                    <div id="billing-fields-container-ship">
                      
                      <div id="billing-fields" style="display:none;">
                        <h4>Billing Address</h4>
                        <!-- All billing fields with unique IDs -->
                        <div class="input-row">
                          <input id="partner-billing-name" placeholder="Billing Name" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-billing-email" placeholder="Billing Email" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                            <select id="partner-billing-phone-country" required style="width:90px;">
                                <option value="">Code</option>
                                <option value="+43">+43 AT</option>
                                <option value="+49">+49 DE</option>
                                <option value="+33">+33 FR</option>
                                <!-- Add more codes as needed -->
                            </select>
                            <input id="partner-billing-phone" placeholder="Billing phone number" required style="width:calc(100% - 100px);">
                            <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-billing-street" placeholder="Billing Street" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-billing-city" placeholder="Billing City" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="partner-billing-zip" placeholder="Billing ZIP" required>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <select id="partner-billing-country" required>
                            <option>select country</option>
                            <option value="AT">Austria</option>
                            <option value="DE">Germany</option>
                            <option value="CH">Switzerland</option>
                            <option value="FR">France</option>
                            <option value="BA">Bosnia</option>
                            <option value="GH">Ghana</option>
                          </select>
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <textarea id="partner-billing_notes" placeholder="Billing Notes"></textarea>
                        </div>
                      </div>

                    </div>
                  </div>
                  <div class="address-section company-section" id="company-fields-ship" style="display:none;">
                    <div id="company-fields-container-ship">
                      
                      <div id="company-fields">
                        <h4>Company Details</h4>
                        <div class="input-row">
                          <input id="company-name" placeholder="Company Name">
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="company-vat-number" placeholder="VAT Number">
                          <span class="required-marker">*</span>
                        </div>
                        <div class="input-row">
                          <input id="company-logo-url" placeholder="Logo URL">
                        </div>
                        <div class="input-row">
                          <input id="company-website" placeholder="Website">
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Parcel Options -->
          <div class="option-group" id="parcel-options">
            <label class="option-checkbox">
              <input type="checkbox" id="split-parcel">
              <span class="custom-checkbox"></span>
              Allow parcel split
            </label>
            <label class="option-checkbox">
              <input type="checkbox" id="pick-pack">
              <span class="custom-checkbox"></span>
              Pick & Pack by fulfillment service
            </label>
          </div>
        </div>

        <!-- Add terms and conditions checkbox -->            
        <div class="terms-checkbox-row option-checkbox" id="terms-checkbox-container" style="position:relative;">
            <input type="checkbox" id="accept-terms" required>
            <label for="accept-terms">
                I accept the <a href="/terms" target="_blank">Terms & Conditions</a>
                and <a href="/privacy-policy" target="_blank">Privacy Policy</a>.
            </label>
        </div>

        <!-- Customer Form -->
        <div id="customer-form">
          <form id="partner-form">

            <div class="action-row" id="address-action-row">
              <button id="confirm-data-btn" class="shop-buy-btn">
                <i class="fas fa-check-circle"></i> Confirm Data
              </button>
              <button id="cancel-address-btn" class="shop-cancel-btn" disabled>
                <i class="fas fa-times-circle"></i> Cancel
              </button>
            </div>


          </form>
        </div>
      </div>

        <!-- Step 3: Shipping Actions (if needed) -->
        <div id="shipping-section" style="display:none;">

          <div id="shipping-options-container" class="shipping-address-block">

              <div id="shipping-loading" class="shipping-loading-centered" style="display:none;">
                <span class="shipping-spinner">
                  <span class="shipping-spinner-dot"></span>
                  <span class="shipping-spinner-dot"></span>
                  <span class="shipping-spinner-dot"></span>
                </span>
                <span class="shipping-loading-message">We're evaluating the shipping conditions for your purchase...</span>
              </div>

              <div id="shipping-options">
                <i class="fas fa-truck"></i>
                <div class="shipping-address-details">
                  <h3 class="shipping-options-title" style="color:#1565c0;font-size:1.18rem;font-weight:600;margin:0 0 8px 0;">
                    Select your shipping carrier and method
                  </h3>
                  <div class="shipping-options-explanation" style="color:#4f8cff;font-size:0.98rem;margin-bottom:4px;">
                    Please choose a carrier for delivering your order. The price and service level are shown for each option. Select one and confirm to proceed.
                  </div>
                  <div class="shipping-rate-sort-tabs">
                    <button class="shipping-rate-sort-btn" data-sort="cheapest">Cheapest</button>
                    <button class="shipping-rate-sort-btn" data-sort="fastest">Fastest</button>
                    <button class="shipping-rate-sort-btn" data-sort="rated">Best Rated</button>
                  </div>
                  <div class="shipping-rate-pagination" id="shipping-rate-pagination"></div>
                  <div id="shipping-rate-list" class="shipping-rate-list"></div>
                  <div id="shipping-rate-info" style="margin-top:8px;"></div>
                  <div class="action-row" id="shipping-action-row">
                    <button id="confirm-shipping-btn" class="shop-buy-btn">
                      <i class="fas fa-truck"></i> Confirm Shipping
                    </button>
                    <button id="cancel-shipping-btn" class="shop-cancel-btn" disabled>
                      <i class="fas fa-times-circle"></i> Cancel
                    </button>
                  </div>
                </div>
              </div>

          </div>

        </div>

        <!-- Step 4: Payment Section -->
        <div id="payment-section" style="display:none;">
          <div id="quotation-preview"></div>
          <div class="action-row" id="payment-action-row">
            <button id="confirm-pay-btn" class="shop-buy-btn" disabled>
              <i class="fas fa-credit-card"></i> Place Order (Payment Required)
            </button>
            <button id="cancel-payment-btn" class="shop-cancel-btn" disabled>
              <i class="fas fa-times-circle"></i> Cancel
            </button>
          </div>
        </div>

    </div>

  <script src="/static/js/returns.js"></script>
  <script src="/static/js/customer.js"></script>

  <div id="privacy-banner" class="privacy-banner" style="position:fixed;bottom:0;left:0;width:100%;background:#fffbe6;border-top:1px solid #ffe082;padding:16px;z-index:9999;display:none;">
    <button id="accept-privacy-btn">Accept</button>
    <span>
        To evaluate shipping options, pricing, currency, taxes, and service availability, we collect your IP address and location. This information helps us fulfill all legal responsibilities for online businesses and provide you with accurate offers and services
        Please review our <a href="/privacy-policy" target="_blank">Privacy Policy</a> and <a href="/terms" target="_blank">Terms & Conditions</a>.
    </span>
  </div>
</body>
</html>